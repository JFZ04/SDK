import{r as C,a as g,o as U,b as _,D as h,c as A,d,e as b,f as e,w as f,v,u as i,g as X,h as a,i as w,j as c,k as x,F as P,U as t,t as I,l as V}from"./index-BZEL6HVb.js";const E="/assets/video-B-me_5Vj.mp4",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAYAAAARfGZ1AAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVRIid3UT4iNURjH8c87XjXNbRbCRlGThSIbCiF/k4WNErJgN2FnIcnCanaUhQ3ZuJiQsLJQFnchC80oG5IiVsZCUXJpxrU45+2+3e55x613w7N5n87znO/znPec35M1mm3z2AqcxFaM4D3u4j5+V23M5oEfxnUM94m1sB9fU5uHKsBbMBnBT3EEezCB79iBO1WdVXXewnY8wCHMlWIbYsGF2Blz/7rzUWyL/tkeMDzHvejvS3WXgi9GFv23iZxifemg8Frs/4PPlvwFiZxifTYRT8I/CW8ZdiVyivXUhVd2Phn9KxgrxTKcx2b8UiGkPBXAOezGSrzCI3wWhLU65pzBh0HhYxH8LsKHcaAn5yfWYRyP8bEXUpb/chwThtXaPgU7+Caot9/vfCGo9nZxmqzRbI/gmjCYClXO4RmeCFJ/iRndEbssNrAJe7GxVLATC4xnjWb7Ak7HQAu38BBf+nSXskU4iKPC3IeLWaPZnsJ6nMDVAYApOy68sOkh3UudqQFc5uT/7mzJdV/ABE7VwFwSvz9yXMINrKkBXFgHl3PcxBRW1Qh/jTd/AN4BWhXZRnyKAAAAAElFTkSuQmCC",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABL0lEQVQ4jdXTr0tDURjG8c/cFcGJjCVB/IGCRtdMgk0wCIIK/g2WRcWyJIJ/xcAgGAxisapZk8mBRTAYDCpDFA07biK7265zwQcOzz287/ny3Hvem8qUKpoohRVsYBZ9uMUh9vAQe7AJuBf7WIup32MRl42KPU3S7gZoBZsYwWCAXWEIJ8glSTyOG6SxgNMf9X5cII8dbLebeClAjxtA4QVb4Xm1ESAOPBX8PKYOZ8EnkoAHgr82AT8HTycBd6zomw+rzi31xDnVi2ylr54P3OEtlSlV5nGEbOc5wSOWIxQD9AnvHULTgVWM1JPOqQ5+J8qr/onZJJeXCastRa1baroOPvbX4NEEvd2b4/8HTvKND7oFXv8teDrJwRjVGBHKmJHwVVuoHKEQNpN/BUXhE4hdL1eGRJn+AAAAAElFTkSuQmCC",N={class:"loginav login"},R=e("div",{class:"video"},[e("video",{src:E,muted:"",autoplay:"",loop:""})],-1),J=e("div",{class:""},null,-1),W={class:"loginbox boxall",method:"post",action:"http://192.168.1.152:8080/Home"},S=e("div",{class:"logo"},[e("h1",null,"IP文件管理系统"),e("h2",null,"IP Weng Jian Guang Li Xi Tong")],-1),z=e("div",{class:"logintit"},"用户登录",-1),G={class:"logininput"},H=e("i",null,[e("img",{src:T})],-1),K=e("i",null,[e("img",{src:F})],-1),O={class:"flex1",style:{padding:"15px 0"}},k={style:{color:"#00bff4"}},M={style:{color:"#00bff4"}},Q=e("div",{class:"boxfoot"},null,-1),Y=e("canvas",{id:"canvas",style:{position:"fixed",width:"100%",height:"100%",left:"0",top:"0",opacity:".3","pointer-events":"none"}},null,-1),L={__name:"Login",setup(D){const B=V(),o=C({Flag:g(!1),Ping:g(0)});let p;U(()=>{p=setInterval(()=>{const n=performance.now();_.post(h.urls+"/Ping",JSON.stringify({Type:"Update"})).then(function(s){s.data;let l=performance.now()-n;o.Ping=l.toFixed(1),o.Flag=!0}).catch(function(s){o.Ping=9999,o.Flag=!1,console.log(s)})},1e3)});function u(){_.post(h.urls+"/login",JSON.stringify({Type:"login",User:t.Name,Password:t.Password})).then(function(n){var s=n.data;s==="OK"?(localStorage.setItem("username",t.Name),localStorage.setItem("password",t.Password),clearInterval(p),B.push("/Home")):(t.Href=!1,localStorage.removeItem("password"),alert("用户名或密码错误"))}).catch(function(n){console.log(n)})}return(n,s)=>{const m=A("el-text"),l=A("el-tag"),y=A("el-button");return d(),b(P,null,[e("div",N,[R,J,e("form",W,[S,z,e("ul",G,[e("li",null,[H,f(e("input",{class:"forminput","onUpdate:modelValue":s[0]||(s[0]=r=>i(t).Name=r),name:"username",type:"text",placeholder:"用户名"},null,512),[[v,i(t).Name]])]),e("li",null,[K,f(e("input",{class:"forminput",type:"password",onKeyup:X(u,["enter"]),"onUpdate:modelValue":s[1]||(s[1]=r=>i(t).Password=r),name:"password",placeholder:"密码"},null,544),[[v,i(t).Password]])]),e("div",O,[e("label",k,[a("服务器延时:  "),w(m,{class:"mx-1",type:"success"},{default:c(()=>[a(I(o.Ping)+"ms",1)]),_:1})]),e("label",M,[a("服务器状态:   "),o.Flag?(d(),x(l,{key:0,type:"success"},{default:c(()=>[a("在线")]),_:1})):(d(),x(l,{key:1,type:"danger"},{default:c(()=>[a("离线")]),_:1}))])]),e("li",null,[w(y,{type:"primary",onClick:u,style:{width:"100%","font-size":"20px"},size:"large"},{default:c(()=>[a("登 录")]),_:1})])]),Q])]),Y],64)}}};export{L as default};
